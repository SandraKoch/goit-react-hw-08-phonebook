"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[86],{3086:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(3168),a=t(6314),c=t(8292),s=t(6151),o=t(9434),i=t(5861),u=t(4687),l=t.n(u),d=t(1243),h=t(1538),p=h.fetchingInProgress,f=h.fetchingSuccess,m=h.fetchingError,v=h.addingInProgress,g=h.addingSuccess,x=h.addingError,b=h.deletingInProgress,Z=h.deletingSuccess,j=h.deletingError;d.Z.defaults.baseURL="https://connections-api.herokuapp.com";var k=t(184),y=function(){var e=(0,o.I0)();return(0,k.jsx)("form",{onSubmit:function(n){n.preventDefault();var t=n.target,r={name:n.currentTarget.elements.name.value,number:n.currentTarget.elements.phone.value};e(function(e){var n=e.name,t=e.number;return function(){var e=(0,i.Z)(l().mark((function e(r){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(v()),a={name:n,number:t},e.next=5,d.Z.post("/contacts",a);case 5:r(g(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(x(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}(r)),t.reset()},children:(0,k.jsxs)(a.Z,{spacing:2,direction:"row",children:[(0,k.jsx)(r.ZP,{color:"primary",fontSize:"lg",fontWeight:"lg",children:"Search your contacts"}),(0,k.jsx)(c.Z,{id:"name",label:"Contact name",type:"text",variant:"filled",title:"Name may contain only letters, apostrophe, dash and spaces"}),(0,k.jsx)(c.Z,{id:"phone",label:"Phone number",type:"tel",variant:"filled",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}),(0,k.jsx)(s.Z,{variant:"contained",type:"submit",children:"Add contact"})]})})},w=t(493),P=t(4852),_=t(3400),I=t(653),S=t(3044),C=t(6259),E=function(e){return e.contacts.items},A=t(7247),L=t(6773),M=t(225),T=function(){var e=(0,o.v9)(E),n=(0,o.I0)(),t=function(e){var t;n((t=e,function(){var e=(0,i.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(b()),e.next=4,d.Z.delete("/contacts/".concat(t));case 4:n(Z(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(j(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()))},r=(0,M.Z)(w.Z)({"& .MuiListItem-root:hover":{backgroundColor:"orange","&, & .MuiAvatar-root":{color:"black"}}});return(0,k.jsx)("div",{children:(0,k.jsx)(r,{children:e.map((function(e){return(0,k.jsxs)(P.ZP,{item:e,secondaryAction:(0,k.jsx)(_.Z,{edge:"end","aria-label":"delete",onClick:function(){return t(e.id)},children:(0,k.jsx)(A.Z,{})}),children:[(0,k.jsx)(I.Z,{children:(0,k.jsx)(S.Z,{children:(0,k.jsx)(L.Z,{})})}),(0,k.jsx)(C.Z,{primary:e.name,secondary:"".concat(e.number)})]},e.id)}))})})},z=t(2791),D=function(){var e=(0,o.I0)();return(0,z.useEffect)((function(){e(function(){var e=(0,i.Z)(l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(p()),e.next=4,d.Z.get("/contacts");case 4:t=e.sent,n(f(t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(m(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}())}),[e]),(0,k.jsxs)("div",{children:[(0,k.jsx)(y,{}),(0,k.jsx)("h3",{children:"Your Phonebook contact list:"}),(0,k.jsx)(T,{})]})}}}]);
//# sourceMappingURL=86.9ceb4cd0.chunk.js.map