"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[86],{3086:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(1582),a=t(4973),c=t(6151),s=t(9434),o=t(5861),i=t(4687),u=t.n(i),l=t(1243),d=t(1538),p=d.fetchingInProgress,h=d.fetchingSuccess,f=d.fetchingError,m=d.addingInProgress,v=d.addingSuccess,x=d.addingError,g=d.deletingInProgress,b=d.deletingSuccess,Z=d.deletingError;l.Z.defaults.baseURL="https://connections-api.herokuapp.com";var j=t(184),k=function(){var e=(0,s.I0)();return(0,j.jsx)("form",{onSubmit:function(n){n.preventDefault();var t=n.target,r={name:n.currentTarget.elements.name.value,number:n.currentTarget.elements.phone.value};e(function(e){var n=e.name,t=e.number;return function(){var e=(0,o.Z)(u().mark((function e(r){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(m()),a={name:n,number:t},e.next=5,l.Z.post("/contacts",a);case 5:r(v(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(x(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}(r)),t.reset()},children:(0,j.jsxs)(r.Z,{spacing:2,direction:"row",children:[(0,j.jsx)(a.Z,{id:"name",label:"Contact name",type:"text",variant:"filled",title:"Name may contain only letters, apostrophe, dash and spaces"}),(0,j.jsx)(a.Z,{id:"phone",label:"Phone number",type:"tel",variant:"filled",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}),(0,j.jsx)(c.Z,{variant:"contained",type:"submit",children:"Add contact"})]})})},w=t(493),y=t(4852),_=t(3400),I=t(653),P=t(3044),C=t(3126),E=function(e){return e.contacts.items},S=t(7247),A=t(6773),L=t(225),M=function(){var e=(0,s.v9)(E),n=(0,s.I0)(),t=function(e){var t;n((t=e,function(){var e=(0,o.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(g()),e.next=4,l.Z.delete("/contacts/".concat(t));case 4:n(b(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(Z(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()))},r=(0,L.Z)(w.Z)({"& .MuiListItem-root:hover":{backgroundColor:"orange","&, & .MuiAvatar-root":{color:"black"}}});return(0,j.jsx)("div",{children:(0,j.jsx)(r,{children:e.map((function(e){return(0,j.jsxs)(y.ZP,{item:e,secondaryAction:(0,j.jsx)(_.Z,{edge:"end","aria-label":"delete",onClick:function(){return t(e.id)},children:(0,j.jsx)(S.Z,{})}),children:[(0,j.jsx)(I.Z,{children:(0,j.jsx)(P.Z,{children:(0,j.jsx)(A.Z,{})})}),(0,j.jsx)(C.Z,{primary:e.name,secondary:"".concat(e.number)})]},e.id)}))})})},T=t(2791),D=function(){var e=(0,s.I0)();return(0,T.useEffect)((function(){e(function(){var e=(0,o.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(p()),e.next=4,l.Z.get("/contacts");case 4:t=e.sent,n(h(t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(f(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}())}),[e]),(0,j.jsxs)("div",{children:[(0,j.jsx)(k,{}),(0,j.jsx)("h3",{children:"Your Phonebook contact list:"}),(0,j.jsx)(M,{})]})}}}]);
//# sourceMappingURL=86.9f759211.chunk.js.map